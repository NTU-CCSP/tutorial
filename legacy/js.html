<!doctype html>
<html lang="zh_TW">

  <head>
    <meta charset="utf-8">
    <title>學 Javascript</title>
<meta name="description" content="不囉唆學 Javascript reveal.js 製作的 HTML / CSS / JS 投影片。">
<meta name="author" content="MrOrz">
<meta name="email" content="johnsonliang7@gmail.com">
<link rel="stylesheet" href="css/main.css">
<link rel="stylesheet" href="css/styles.css">
<link rel="stylesheet" href="css/sample.css">
<link rel="stylesheet" href="css/jquery-ui.css">
<link rel="stylesheet" href="css/ruler.css">
<link rel="stylesheet" href="lib/zenburn.css">
  </head>

  <body>
    <div id="reveal">
      <div class="slides">
        <p></p>
<p></p>
<p></p>
<p></p>
<section>
<h1>Javascript</h1>
<ul class="nav">
<li><a href="html.html">HTML</a></li>
<li><a href="css.html">CSS</a></li>
<li><a href="advancedjs.html">Advanced JS</a></li>
</ul>
<p></p>
<p class="leader">按 <kbd>Space</kbd> 概覽</p>
<p></p>
</section>
<section>
<p><img src="images/js/what-js-look-like-1.jpg" alt="1"></p>
<p class="fragment"><img src="images/js/what-js-look-like-2.jpg" alt="2"></p>
<p></p>
</section>
<section>
<h2>長這樣</h2>
<script type="text/x-sample" class="demo small leader">
    var form = document.getElementById('submitform');
    form.addEventListener('submit', function(e){
      var checkbox = document.getElementById('tos');
      if(!checkbox.checked){
        alert('請詳閱出師表。');
        e.preventDefault();
      }
    });

</script>
<p></p>
<ul class="fragment">
<li>Javascript 操作 DOM (HTML 的 API) 的範例。</li>
<li><code>document</code> 是 DOM 物件，<br><code>getElementById</code>, <code>addEventListener</code> 是 DOM 方法。</li>
<li>變數需要<a href="?variable">事先定義</a>，但不指定型別。</li>
</ul>
<p></p>
</section>
<section class="chapter">
<h2>牛刀小試</h2>
<p></p>
</section>
<section>
<section>
<h2>怎麼寫</h2>
<p><kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>j</kbd> 打開 Javascript Console。</p>
<p></p>
<p><img src="images/js/console.png" alt="Javascript console"></p>
<p></p>
<p>輸入一行 Javascript (黑色)，輸出一行回傳值 （藍色）</p>
<p></p>
<p>試試 <code>3+2</code>, <code>Math.sin(Math.PI)</code>, <code>0.1 + 0.2</code></p>
<p></p>
</section>
<section id="variable">
<h2>變數與型別</h2>
<ul class="leader">
<li>Javascript 為弱型別（weak typing）語言</li>
<li>用 <code>var</code> 敘述定義變數</li>
<li>變數可以是任何型態的東西<br><code>var a = 3</code>：<code>a</code> 的型態會是 <code>number</code></li>
<li>大小寫有差</li>
</ul>
<p></p>
<pre><code><!--
-->var a = &quot;str&quot;, A; // a != A
a = 3; // 換型態
<!--
--></code></pre>
<p></p>
</section>
<section>
<h2>運算子</h2>
<ul class="leader">
<li>負數 : <code>-</code> (如 <code>-35</code>)</li>
<li>算數 : <code>*</code> &nbsp; <code>/</code> &nbsp; <code>%</code> &nbsp; <code>+</code> &nbsp; <code>-</code></li>
<li>比大小 : <code>===</code>  &nbsp; <code>!==</code>  &nbsp; <code>&lt;</code>  &nbsp; <code>&gt;</code>  &nbsp; <code>&lt;=</code> &nbsp;  <code>&gt;=</code></li>
<li>邏輯運算 : <code>&amp;&amp;</code> &nbsp;  <code>||</code> &nbsp;  <code>!</code></li>
<li>三元運算子 : <code>? :</code></li>
<li>指派 : <code>=</code> &nbsp; <code>+=</code> &nbsp; <code>-=</code> &nbsp; <code>*=</code> &nbsp; <code>/=</code> &nbsp; <code>%=</code></li>
</ul>
<p></p>
<p></p>
</section>
<section>
<h2>文字與數字</h2>
<ul>
<li>數字 <code>+</code> 數字 是加法。</li>
<li>任何東西 <code>+</code> 字串、字串 <code>+</code> 任何東西：字串串接</li>
<li>轉字串時會嘗試呼叫其 toString 方法</li>
</ul>
<p></p>
<p><img src="images/js/string-number.png" alt="字串加數字等於字串"></p>
<hr>
<p></p>
<p><code>parseInt(str, base)</code>, <code>parseFloat(str, base)</code> : 文字轉數字</p>
<p><img src="images/js/parseInt.png" alt="parseInt"></p>
<p></p>
</section>
<section>
<h2>輸出文字</h2>
<ul>
<li><code>console.log(東西)</code> → <b>寫進 Console。</b><br> 若東西是陣列或物件，可以看到內容。</li>
<li><code>document.write(東西)</code> → <b>把東西轉成字串，寫進 HTML。</b></li>
</ul>
<hr>
<p></p>
<p class="fragment">通常<strong>不會</strong>使用 <code>document.write</code>。<br> 這個教學網頁用 <code>document.write</code> 印出資料當作示例，但開發時一般用更方便的 <code>console.log</code>。</p>
<p></p>
</section>
<section>
<h2>JavaSCRIPT</h2>
<p>寫在一個檔案裡面，才有「腳本」的 FU</p>
<p></p>
<p><div class="fragment"></p>
<p>用 <code>&lt;script type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</code> 包住，放在 HTML 裡</p>
<p></p>
<script type="text/x-sample" class="html">
        &lt;script type="text/javascript"&gt;
          document.write("script 標籤裡好溫暖喔 (羞)");
        &lt;/script&gt;

</script>
<p></div></p>
<p></p>
</section>
<section>
<h2>Javascript file</h2>
<p></p>
<ul>
<li>另外寫成一個 *.js 檔</li>
<li><code>&lt;script type=&quot;text/javascript&quot; src=&quot;路徑與檔名&quot;&gt;&lt;/script&gt;</code></li>
</ul>
<p></p>
<script type="text/x-sample" class="html">
        &lt;script type="text/javascript" src="sample/included.js"&gt;&lt;/script&gt;
        <p>我是內文</p>

</script>
<p></p>
<p class="fragment"><code>&lt;script&gt;</code> 寫在 <code>&lt;head&gt;</code> 或 <code>&lt;body&gt;</code> 裡都可以。<br>瀏覽器一讀到就會立即執行（Load-and-go）。</p>
<p></p>
</section>
<section>
<h2>Javascript file (續)</h2>
<p>JS 檔和 HTML 檔同目錄</p>
<p><img src="images/js/js-hierachy.jpg" alt="JS 檔案結構"></p>
<p></p>
<p>執行結果：</p>
<p><img src="images/js/js-test.jpg" alt="JS 檔案結構"></p>
<p></p>
</section>
<section>
<h2>Javascript file (續)</h2>
<p>JS 檔和 HTML 檔不同目錄</p>
<p><img src="images/js/js-hierachy2.jpg" alt="JS 檔案結構"></p>
<p></p>
</section>
</section>
<p></p>
<section class="chapter">
<h2>JS 和 C 很像</h2>
<p>程式流程控制方面</p>
<p></p>
</section>
<section>
<section>
<h2><code>if</code> 條件</h2>
<p></p>
<p><code>if</code>-<code>else if</code>-<code>else</code>-<code>endif</code></p>
<p></p>
<script type="text/x-sample">
      var year = 2012;
      if(year % 400 === 0){
        document.write('閏年');
      }else if(year % 100 === 0){
        document.write('不是閏年');
      }else if(year % 4 === 0){
        document.write('閏年');
      }else{
        document.write('不是閏年');
      }

</script>
<p></p>
</section>
<section>
<h2>迴圈</h2>
<p><code>for</code>, <code>while</code>, <code>break</code>, <code>continue</code></p>
<p></p>
<p>迴圈前可以加上 label 如下：</p>
<p></p>
<pre data-lang="javascript"><code><!--
-->outerLoop: for(;;){
  ……
    if(...){
      break outerLoop;
    }
    if(...){
      continue outerLoop;
    }
  ……
}
<!--
--></code></pre>
<p></p>
<p></p>
</section>
<section>
<h2>switch case</h2>
<p>記得 <code>break;</code></p>
<p></p>
<script type="text/x-sample">
      var name = "董允", comment;
      switch(name){
        case '郭攸之':
        case '費依':
        case '董允':
          comment = '此皆良實，志慮忠純';
          break;
        case '向寵':
          comment = '試用之於昔日，先帝稱之曰「能」';
          break;
        default:
          comment = '親賢臣，遠小人，此先漢所以興隆也';
      }
      document.write(comment);

</script>
<p></p>
</section>
<section>
<h2 class="trailer">註解</h2>
<p></p>
<p><code>/* 多行 */</code> 與 <code>// 單行</code></p>
<p></p>
</section>
</section>
<p></p>
<section class="chapter">
<h2>JS 又和 C 不同</h2>
<p>型態與其他</p>
<p></p>
</section>
<section>
<p></p>
<section id="reserved">
<h2>保留字 & <code>關鍵字</code></h2>
<p>不能當作變數名稱、屬性名稱的字。</p>
<p>abstract boolean <code>break</code> byte <code>case</code> <code>catch</code> char class const <code>continue</code></p>
<p>debugger <code>default</code> <code>delete</code> <code>do</code> double <code>else</code> enum export extends</p>
<p><code>false</code> final finally float <code>for</code> <code>function</code></p>
<p>goto <code>if</code> implements import <code>in</code> <code>instanceof</code> int</p>
<p>interface long native <code>new</code> <code>null</code> package private protected public <code>return</code></p>
<p>short static super <code>switch</code> synchronized</p>
<p><code>this</code> <code>throw</code> throws transient <code>true</code> <code>try</code> <code>typeof</code></p>
<p><code>var</code> volatile <code>void</code> <code>while</code> <code>with</code></p>
<p></p>
</section>
<section>
<h2>特殊值</h2>
<p><code>NaN</code>: Not a number，不是數字。</p>
<script type="text/x-sample">
        document.write(
          26 + parseInt('二十四個比利', 10) );

</script>
<p></p>
<p><code>undefined</code>: 未定義。變數的預設值、function 預設的回傳值。</p>
<script type="text/x-sample">
        var hey, noop = function(){};
        document.write(hey + '<br>');
        document.write(noop());

</script>
<p></p>
<p><code>null</code>: 什麼都不是。</p>
<p></p>
</section>
<section>
<h2>String 字串</h2>
<ul>
<li>單引號(")、雙引號(')效果相同</li>
<li><code>\&apos;</code>,  <code>\&quot;</code>, <code>\\</code>,  <code>\n</code></li>
<li><code>length</code> 屬性：長度</li>
<li>無法修改字串 (immutable)。</li>
<li>UCS-2 編碼 （UTF-16 的前身）</li>
<li><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String#String_instances" target="_blank">屬性與方法</a></li>
</ul>
<p></p>
<script type="text/x-sample" class="small" data-lang="javascript">
      var str = "侍中尚書、長史、參軍，此悉貞良死節之臣也";

      str[11] = "庛";
      document.write( str[11] + '<br>' );
      document.write( str.split("、") + '<br>');
      document.write( str.slice(11) + '<br>' );

</script>
<p></p>
</section>
<section>
<h2>Function 函數</h2>
<p></p>
<p class="leader">建一個函數：</p>
<p><code>function 函式名 (引數們) { ... }</code></p>
<p><code>var 函數名 = function (引數們) { ... }</code></p>
<p></p>
<p>呼叫一個函數：</p>
<p><code>函數名(要傳的引數)</code></p>
<p></p>
<ul class="fragment">
<li>函數可以像變數一樣被丟來丟去。</li>
<li>無法像 C 那樣指定引數預設值。</li>
<li>呼叫時引數的個數，和函數定義的引數個數可以不一樣。</li>
</ul>
<p></p>
</section>
<section>
<h2>Function 函數</h2>
<p></p>
<script type="text/x-sample" class="small leader">
      // eachOf：
      // 將 array 裡的每個東西都丟進 func 當引數
      var eachOf = function(array, func){
        for(var i = 0; i < array.length; i+=1){
          func(array[i]);
        }
      }

      eachOf(["棋盤", "稿紙", "綠豆糕"], function(item){
        document.write('啊，好似' + item + '似的！');
      });

</script>
<p></p>
<p>把 function 當成引數傳給另一個 function，<br>在綁定 event handler （或稱 callback function ) 時很常用</p>
<p></p>
</section>
<section>
<h2>Object 物件</h2>
<p><code>{key: value1, key2: value2, ……}</code></p>
<p></p>
<ul>
<li>value 可以是函數</li>
<li>函數裡 <code>this</code> 指自己這個物件</li>
<li>可以隨時幫 object 增加成員</li>
</ul>
<p></p>
<script type="text/x-sample" class="small" data-lang="javascript">
      var person = {
        name: "董允",
        comment: "志慮忠純，是以先帝簡拔以遺陛下。",
        reward: function(){
          // this：
          document.write("臣" + this.name + "謝皇上賜賞。")
        }
      };

      // 增添「職位」
      person.position = "侍中";
      person.reward("田地"); // 引數長度和定義可以不一樣
      console.log('person:', person);

</script>
<p></p>
</section>
<section>
<h2>Object 物件</h2>
<p>用 key 存取物件內的 value：<code>object.key</code> 或 <code>object[&quot;key&quot;]</code></p>
<p></p>
<script type="text/x-sample">
      var person = {
        name: "董允",
        comment: "志慮忠純，是以先帝簡拔以遺陛下。",
        reward: function(){
          document.write("臣" + this.name + "謝皇上賜賞。")
        }
      };

      document.write(person.name + '<br>');
      document.write(person['name'] + '<br>');
      person['reward']();

</script>
<p></p>
<p>key 為<a href="?reserved">保留字</a>時請用 <code>object[&quot;key&quot;]</code></p>
<p></p>
</section>
<section>
<h2>Array 陣列</h2>
<p><code>[元素1, ……, 元素N]</code></p>
<ul>
<li>元素不一定要都同一種型態</li>
<li>length 為陣列長度</li>
<li>陣列是一種物件（陣列繼承自物件）。</li>
</ul>
<p></p>
<script type="text/x-sample" class="small" data-lang="javascript">
      var arr = [3.14, "任意文字", {text: "物件"}, ["另一個", "陣列"]];
      for(var i=0; i<arr.length; i+=1){
        document.write( arr[i] + '<br>');
      }
      document.write('<hr>');
      document.write('陣列長度：' + arr.length + '<br>');

</script>
<p></p>
<p></p>
</section>
<section>
<h2>Array method</h2>
<ul>
<li><code>join(sep)</code> 把每個元素轉成字串，用分隔字元 <code>sep</code> 接起來。</li>
<li><code>push(item...)</code> 將 <code>item</code> 附加到末端，回傳新長度。</li>
<li><code>pop()</code> 移除並回傳最後一個元素。</li>
<li>詳見 <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array#Array_instances" target="_blank">MDN Docs</a></li>
</ul>
<p></p>
<script type="text/x-sample" data-lang="javascript">
      var names = ['郭攸之', '費依'];
      names.push('董允');
      document.write(names.join('、') + '，此皆良實，志慮忠純。');

</script>
<p></p>
</section>
<section>
<h2>Just for reference</h2>
<p></p>
<p>Javascript 物件變數只存 reference（物件的位置）。</p>
<p>於是 <code>物件 === 物件</code> 結果很微妙。</p>
<p></p>
<script type="text/x-sample" class="small" data-lang="javascript">
      var obj = {key: "value"},
          obj2 = obj;

      // obj, obj2 reference 相同
      // obj 和新建的物件 reference 不同，即使值都一樣，
      // === operator 還是把它認作不同。
      
      document.write([
        'obj === obj2 :',   obj === obj2,           '<br>',
        'obj === {...} :' , obj === {key: "value"}
      ].join(''));

</script>
<p></p>
<p>Javascript 沒有原生的 Object <code>equals</code> 方法。</p>
<p>比較兩個 Javascript Object 是否每個 key、value 相同，<a href="http://stackoverflow.com/questions/201183/how-do-you-determine-equality-for-two-javascript-objects" target="_blank">其實很麻煩</a>。</p>
<p><a href="http://underscorejs.org" target="_blank">Underscore.js</a> : utility function library.</p>
<p></p>
</section>
<section>
<h2>Pass-by-reference</h2>
<p></p>
<p>Javascript 物件變數當引數時，為 pass-by-reference。</p>
<p>其他型態，如 Number，則是 pass-by-value。</p>
<script type="text/x-sample" class="small" data-lang="javascript">
      var num = 3.14,             // Number
          arr = [ "任意文字" ];   // Array

      // 蓋一個 function，把 arr、num 傳進去修改
      var alter = function(a, n){
        a[0] = "隨便文字"; n = 1.618;
      };

      // 呼叫這個 function
      alter(arr, num);

      // 看 arr, num 有沒有被修改
      document.write([
        'arr:', arr, '<br>',
        'num:', num
      ].join(''));

</script>
<p></p>
</section>
</section>
<p></p>
<section class="chapter">
<h2>DOM Window</h2>
<p></p>
</section>
<section>
<section>
<h2>window object</h2>
<p>Javascript 裡有個變數是一切的根源。</p>
<p><code>window</code> 就是根源。</p>
<p> <img src="images/js/window.png" alt="Javascript console 印出 window object" height="400"></p>
<p></p>
</section>
<section>
<h2>時間到</h2>
<p><code>setTimeout(callback, t)</code> 會在 <code>t</code> ms 後執行 <code>callback</code>。<br>回傳一個 handle。</p>
<p><code>clearTimeout(handle)</code> 取消此倒數。</p>
<p></p>
<script type="text/x-sample" data-lang="javascript">
      document.write('多想兩分鐘');
      setTimeout(
        function(){
          document.write(
            '你可以不用浪費兩分鐘。'
          );
        },
        60*2*1000
      );

</script>
<p></p>
</section>
<section>
<h2>網址相關</h2>
<p><code>location.href</code>, <code>location.hash</code></p>
<p></p>
<script type="text/x-sample" data-lang="javascript">
      document.write([
        'href: ', location.href, '<br>',
        'hash: ', location.hash
      ].join(''));

</script>
<p></p>
<p>傳值進去會重新整理瀏覽器頁面。</p>
<p></p>
</section>
<section>
<h2>彈出式視窗</h2>
<p><code>alert</code>, <code>confirm</code>, <code>prompt</code></p>
<p></p>
<script type="text/x-sample" data-lang="javascript">
      var answer;
      // answer = confirm('綠豆糕像不像稿紙？');
      if(answer){
        // alert('很像。');
      }else{
        // alert('不像。');
      }

</script>
<p></p>
</section>
<section>
<h2>資料儲存</h2>
<p><code>localStorage</code>, <code>sessionStorage</code></p>
<p></p>
<ul>
<li>用法像 javascript object</li>
<li><code>localStorage.KEY = VALUE</code>，<code>VALUE</code> 只能是字串</li>
<li><code>localStorage</code> 會一直存在，<code>sessionStorage</code> 僅存在瀏覽器分頁中</li>
</ul>
<p></p>
<script type="text/x-sample" class="jquery small" data-lang="javascript">
      if(!localStorage.created){
        localStorage.created = Date();
      }

</script>
<p></p>
<p><img src="images/js/localStorage.png" alt="Resources tab"></p>
<p></p>
<p></p>
</section>
<section>
<h2>用字串表示物件</h2>
<p><code>localStorage</code> 的值只能存字串，無法儲存 javascript 物件</p>
<p class="fragment">把物件用一個字串來表示。</p>
<p></p>
<p><div class="fragment"></p>
<h3>JSON</h3>
<p><code>Javascript String Object Notation</code></p>
<p></p>
<ul>
<li>類似 javascript 物件的初始化方法（object literal）</li>
<li>不會把 function (method) 變成字串</li>
</ul>
<p></p>
<p><code>物件 = JSON.parse(字串)</code>、<code>字串 = JSON.stringify(物件)</code></p>
<p></p>
<script type="text/x-sample" class="jquery small" data-lang="javascript">
        var man = {like: ['紅茶', '總匯三明治'], mood: '淡定',
                   say: function(){return '不要哭了'}},
            manstr = JSON.stringify(man);
        document.write(manstr + '<hr>' + JSON.parse(manstr));
        //sessionStorage.man = manstr;

</script>
<p></p>
<p></div></p>
<p></p>
</section>
<section>
<h2><code>document.cookie</code></h2>
<ul>
<li>另一種資料存儲</li>
<li>同樣是 key-value pair, value 限字串</li>
<li>用分號作分隔，以字串儲存</li>
<li>4kB 大小限制（<code>localStorage</code> 有 5MB）</li>
<li>server 可以設定給 browser 存什麼 cookie</li>
<li>browser 和 server 要檔案時，會附上 cookie</li>
</ul>
<hr>
<p></p>
<p><a href="https://developer.mozilla.org/en-US/docs/DOM/document.cookie" target="_blank">MDN Doc</a></p>
<p></p>
</section>
</section>
<p></p>
<section class="chapter">
<h2>jQuery</h2>
<p>替你操控 DOM (HTML 的 API)</p>
<p></p>
</section>
<section>
<section>
<h2>開始用 jQuery</h2>
<p></p>
<p>神秘咒語</p>
<pre><code><!--
-->&lt;script type=&quot;text/javascript&quot;
 src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js&quot;&gt;
&lt;/script&gt;
<!--
--></code></pre>
<p></p>
<p>然後施魔法</p>
<p></p>
<script type="text/x-sample" class="small html">
      <p></p>

      &lt;script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"&gt;&lt;/script&gt;
      &lt;script type="text/javascript"&gt;
        $('p').text('jQuery 好 Q!');
      &lt;/script&gt;

</script>
<p></p>
</section>
<section>
<h2>全能 DOM 改造王</h2>
<p>物件 5927：不方便的 API</p>
<script type="text/x-sample" class="demo-dom-native small" data-lang="javascript">
      // 偵測是否同意出師表
      var form = document.querySelector('#submitform');

      form.addEventListener('submit', function(e){
        if(!document.querySelector('#tos').checked){
          alert('請詳閱出師表。');
          e.preventDefault();
        }
      });

      // 增加推薦人
      document.querySelector('.add-referral')
              .addEventListener('click', function(){

        // 開一個 buffer，建立下面架構：
        /*
          <p>
            <input type="text" name="referral">
            <a class="del" href="javascript:;">刪除</a>
          </p>
        */
        var buffer = document.createDocumentFragment(),
            p      = buffer.appendChild(
                        document.createElement('p')),
            txt    = p.appendChild(
                        document.createElement('input')),
            del    = p.appendChild(
                        document.createElement('a'));

        txt.setAttribute('type', 'text');
        txt.setAttribute('name', 'referral');
        del.setAttribute('class', 'del');
        del.setAttribute('href', 'javascript:;');
        del.innerHTML = '刪除';

        // 把 buffer 內容塞進 DOM
        document.querySelector('#referrals')
                .appendChild(buffer);
      });

      // 刪除推薦人
      form.addEventListener('click', function(e){
        // 若 'click' 事件來自 <a class="del">
        if(e.target.className === 'del'){
          // 把包著 <a class="del"> 之 <p> 整個移除。
          var p = e.target.parentNode;
          p.parentNode.removeChild(p);
        }
      });

</script>
<p></p>
<p>DOM 這個 API 很長，相當困擾。</p>
<p></p>
</section>
<section>
<h2>一級 DOM 改造士: jQuery</h2>
<p></p>
<h3>SPEC</h3>
<p></p>
<ul>
<li>表單送出時，檢查是否接受出師表</li>
<li>按「增加推薦人」時，蓋一個下面的東西：</li>
</ul>
<pre class="small" style="width: 400px; margin: 0 auto 1em;"><code><!--
-->&lt;p&gt;
  &lt;input type=&quot;text&quot; name=&quot;referral&quot;&gt;
  &lt;a class=&quot;del&quot;&gt;刪除&lt;/a&gt;
&lt;/p&gt;
<!--
--></code></pre>
<ul>
<li>按裡頭的「刪除」時，把整個 <code>&lt;p&gt;</code> 移除。</li>
</ul>
<p></p>
<h3>希望</h3>
<p>寫少一點，作到的事情更多。</p>
<p></p>
</section>
<section>
<h2>BEFORE</h2>
<script type="text/x-sample" class="demo-dom-native small">
      var form = document.querySelector('#submitform');

      // 偵測是否同意出師表
      form.addEventListener('submit', function(e){
        if(!document.querySelector('#tos').checked){
          alert('請詳閱出師表。');
          e.preventDefault();
        }
      });

      // 增加推薦人
      document.querySelector('.add-referral')
              .addEventListener('click', function(){

        // 開一個 buffer，建立下面架構：
        var buffer = document.createDocumentFragment(),
            p      = buffer.appendChild(
                        document.createElement('p')),
            txt    = p.appendChild(
                        document.createElement('input')),
            del    = p.appendChild(
                        document.createElement('a'));

        txt.setAttribute('type', 'text');
        txt.setAttribute('name', 'referral');
        del.setAttribute('class', 'del');
        del.setAttribute('href', 'javascript:;');
        del.innerHTML = '刪除';

        // 把 buffer 內容塞進 DOM
        document.querySelector('#referrals')
                .appendChild(buffer);
      });

      // 刪除推薦人
      form.addEventListener('click', function(e){
        // 若 'click' 事件來自 <a class="del">
        if(e.target.className === 'del'){
          // 把包著 <a class="del"> 之 <p> 整個移除。
          var p = e.target.parentNode;
          p.parentNode.removeChild(p);
        }
      });

</script>
<p></p>
</section>
<section>
<h2>AFTER</h2>
<p></p>
<p><iframe width="150" height="40" style="position: absolute; right: 0; top: 0; opacity: 0.1;" src="http://www.youtube.com/embed/E9gfiTAhScM?rel=0" frameborder="0"></iframe></p>
<p></p>
<p>なんということでしょう!</p>
<p></p>
<script type="text/x-sample" class="demo-dom-jquery small" data-lang="javascript">
      $('#submitform').on('submit', function(e){
        // 偵測是否同意出師表
        if(!$('#tos').attr('checked')){
          alert('請詳閱出師表。');
          e.preventDefault();
        }
      }).on('click', '.del', function(){
        // 刪除推薦人
        // 把包著 <a class="del"> 之 <p> 整個移除。
        $(this).parents('p').remove();
      });

      // 增加推薦人
      $('.add-referral').on('click', function(){
        // 把下面內容塞進 DOM
        $('<p><input type="text" name="referral"><a class="del">刪除</a></p>').appendTo('#referrals');
      });

</script>
<p></p>
</section>
</section>
<p></p>
<section class="chapter">
<h2>jQuery Object</h2>
<p></p>
</section>
<section>
<section>
<h2>神奇的 <code>$</code></h2>
<p></p>
<pre data-lang="javascript" style="width: 520px; margin: 0 auto 1em;"><code><!--
-->$(SELECTOR) or $(&quot;HTML放字串裡&quot;)
<!--
--></code></pre>
<p></p>
<ul>
<li><code>$</code> 是一個 function。</li>
<li>傳入 <a href="http://api.jquery.com/category/selectors/" target="_blank">css selector</a> → 回傳找到的 element</li>
<li>傳入 HTML tag 字串 → 回傳新蓋的 element</li>
</ul>
<hr>
<p></p>
<p>element 被包在 jQuery obejct 裡頭。</p>
<p></p>
<p><img src="images/js/jqObj.png" alt="obj" height="190"></p>
<p></p>
</section>
<section>
<h2>jQuery Object</h2>
<p></p>
<p><img src="images/js/jqObj.png" alt="obj" width="900"></p>
<p></p>
<ul>
<li>看起來像陣列</li>
<li>有 length 屬性</li>
<li>有<a href="http://api.jquery.com" target="_blank">很多 method</a> 可以用</li>
</ul>
<p></p>
</section>
<section>
<h2><code>$()</code></h2>
<p></p>
<p>從「拿到 jQuery Object」開始</p>
<p></p>
<pre data-lang="javascript" style="width: 420px; margin: 0 auto 1em;"><code><!--
-->$(SELECTOR) or $(HTML)
<!--
--></code></pre>
<p></p>
<p>其方法通常會回傳 jQuery Object 本身，故支持 chaining。</p>
<p></p>
<script type="text/x-sample" class="jquery-dom small">
    <p></p>
    <p></p>
    &lt;script type="text/javascript"&gt;
      // 選取現有的 p element 來改造
      $('p').css('color', '#00f').text('我是內容');

      // 蓋一個新的 HTML element，插入現有的 p
      $('<span>。</span>').appendTo('p');
    &lt;/script&gt;

</script>
<p></p>
</section>
</section>
<p></p>
<section class="chapter">
<h2>jQuery API</h2>
<p></p>
</section>
<section>
<section>
<h2>Manipulation</h2>
<p>操弄 DOM 結構與屬性</p>
<p></p>
<ul>
<li><a href="http://api.jquery.com/category/css/" target="_blank">讀取 / 新增 class 或 CSS style</a></li>
<li><a href="http://api.jquery.com/category/attributes/" target="_blank">讀取 / 新增 / 移除屬性</a></li>
<li>在 <a href="http://api.jquery.com/category/manipulation/dom-insertion-inside/" target="_blank">裡面</a> / <a href="http://api.jquery.com/category/manipulation/dom-insertion-outside/" target="_blank">旁邊</a> 插入/移除 DOM element</li>
<li><a href="http://api.jquery.com/category/manipulation/dom-insertion-around/" target="_blank">包覆</a>目前 DOM element</li>
</ul>
<hr>
<p></p>
<p><a href="http://api.jquery.com/category/manipulation/" target="_blank">Manipulation - jQuery API</a></p>
<p></p>
</section>
<section>
<h2>Manipulation</h2>
<p></p>
<script type="text/x-sample" class="jquery-dom small maxheight">
      <style type="text/css">
        p{
          border: 20px solid yellow;
          margin: 20px; padding: 20px;
        }
        .clearstyle{
          border: 0; margin: 0; font: 20px monospace;
        }
      </style>

      <p>我只是個 p。</p>

      &lt;script type="text/javascript" &gt;
        var old_p = $('p');

        // 複製原本的 <p>，加上 class
        var new_p = old_p.clone().addClass('clearstyle');

        // 設定新的 <p> 的內容
        new_p.html([
          'innerWidth: ', old_p.innerWidth(), '<br>',
          'outerWidth: ', old_p.outerWidth()
        ].join(''));

        // 設定 HTML element 屬性
        new_p.attr('title', '請拿左上角的尺');

        // 把新的 <p> 插入 DOM element
        old_p.after(new_p);
      &lt;/script&gt;

</script>
<p></p>
<p><a href="http://api.jquery.com/addClass/" target="_blank"><code>.addClass()</code></a> <a href="http://api.jquery.com/clone/" target="_blank"><code>.clone()</code></a> <a href="http://api.jquery.com/innerWidth/" target="_blank"><code>.innerWidth()</code></a> <a href="http://api.jquery.com/attr/" target="_blank"><code>.attr()</code></a> <a href="http://api.jquery.com/after/" target="_blank"><code>.after()</code></a></p>
<p></p>
</section>
<section>
<h2>Traversing</h2>
<p>從目前 element 找到另一個 element</p>
<p></p>
<ul>
<li><a href="http://api.jquery.com/category/traversing/tree-traversal/" target="_blank">找親戚</a></li>
<li><a href="http://api.jquery.com/category/traversing/filtering/" target="_blank">過濾</a>目前的 jQuery object</li>
</ul>
<hr>
<p></p>
<p><a href="http://api.jquery.com/category/traversing/" target="_blank">Traversing - jQuery API</a></p>
<p></p>
</section>
<section>
<h2>Traversing</h2>
<p></p>
<script type="text/x-sample" class="jquery-dom small maxheight">
      <style type="text/css">
        p{
          padding: 1em; margin: 1em;
        }
        .border1 {
          border: 1px solid blue;
        }
        .border2 {
          border: 1px solid green;
        }
        .bg{
          background: #cfc;
        }
      </style>

      <section>
        Section 裡頭。
        <article>
          article  裡頭。
          <p>
            p 裡頭。
          </p>
          <p></p>
        </article>
      </section>

      &lt;script type="text/javascript"&gt;
        $('p').parents('section').addClass('border1');
        $('section').find('p').addClass('border2');
        $('section').find('p').not(':empty').addClass('bg');
      &lt;/script&gt;


</script>
<p><a href="http://api.jquery.com/parents/" target="_blank"><code>.parents()</code></a> <a href="http://api.jquery.com/find/" target="_blank"><code>.find()</code></a> <a href="http://api.jquery.com/not/" target="_blank"><code>.not()</code></a></p>
<p></p>
</section>
</section>
<p></p>
<section class="chapter">
<h2>jQuery Event</h2>
<p></p>
</section>
<section>
<section>
<h2>Events</h2>
<p>互動的主要要素。</p>
<p></p>
<p><code>$物件.on(&apos;事件&apos;, handler)</code></p>
<p><code>$物件.on(&apos;事件&apos;, selector, handler)</code></p>
<hr>
<p></p>
<p><a href="http://api.jquery.com/category/events/" target="_blank">Events - jQuery API</a></p>
<p><a href="http://api.jquery.com/on/" target="_blank"><code>.on()</code></a>  <a href="http://api.jquery.com/off/" target="_blank"><code>.off()</code></a></p>
<p></p>
</section>
<section>
<h2>Event handler</h2>
<p>事件被觸發時，會被執行的 function，用來處理此事件。又稱作 <code>callback</code>。</p>
<p></p>
<script type="text/x-sample" class="jquery-dom small maxheight">
    <p>按我按我</p>
    &lt;script type="text/javascript"&gt;
      var $body = $('body');
      $body.on('click', function(e){
        console.log('Event Object', e);
      });
    &lt;/script&gt;

</script>
<p></p>
<p class="fragment">「callback」：未來某條件符合時，會被執行的 function。</p>
<p></p>
<ul class="fragment">
<li>第一個引數是 <a href="http://api.jquery.com/category/events/event-object/" target="_blank">Event object</a></li>
<li><code>event.target</code>：被觸發了該事件的 HTML Element。</li>
</ul>
<p></p>
<p class="fragment">以下用 <code>event</code> 指稱 handler 裡的 event object。</p>
<p></p>
<p></p>
</section>
<section>
<h2>Event Propagation</h2>
<p></p>
<p>子元素的事件觸發時，父元素的該事件也會跟著被觸發 (bubbling)。</p>
<p></p>
<script type="text/x-sample" class="jquery-dom small maxheight">
    <table>
      <tr> <td>31 號 2 樓</td> <td>33 號 2 樓</td> </tr>
      <tr> <td>31 號 1 樓</td> <td>33 號 1 樓</td> </tr>
    </table>

    <style type="text/css">
      table{
        border-collapse: separate;
        border: 3px solid black;
      }
      table td{
        border: 3px solid black;
      }
    </style>

    &lt;script type="text/javascript"&gt;
      var log = function(msg){
        $('body').append(msg + '<br>');
      };
      $('td').on('click', function(e){
        var td = $(this);
        log('拜訪' + td.text());
        td.css('borderColor', 'red');
      });
      $('tr').on('click', function(e){
        log('拜訪某層');
        $(this).css('background', '#ff0');
        // e.stopPropagation();
      });
      $('table').on('click', function(e){
        log('拜訪此建築');
        $(this).css('borderColor', '#990');
      });
    &lt;/script&gt;

</script>
<p class="fragment"><a href="http://api.jquery.com/event.stopPropagation/" target="_blank"><code>event.stopPropagation()</code></a> 終止事件散播。</p>
<p></p>
<p></p>
</section>
<section>
<h2>抑制原本的動作</h2>
<p></p>
<p><a href="http://api.jquery.com/event.preventDefault/" target="_blank"><code>event.preventDefault()</code></a></p>
<p></p>
<script type="text/x-sample" class="demo small maxheight" data-lang="javascript">
      $('#submitform').on('submit', function(e){
        // 偵測是否同意出師表
        if(!$('#tos').attr('checked')){
          alert('請詳閱出師表。');
          e.preventDefault();
        }
      });
      $('a').on('click', function(e){
        if(!confirm('您即將離開此頁，要繼續嗎？')){
          e.preventDefault();
        }
      });

</script>
<p></p>
<p>和 <code>event.stopPropagation()</code> 不同。</p>
<p></p>
</section>
<section>
<h2>handler 的回傳值</h2>
<p></p>
<p><code>return false</code> = <code>event.stopPropagation()</code> + <code>event.preventDefault()</code> + <code>return</code></p>
<p></p>
<script type="text/x-sample" class="demo" data-lang="javascript">
      $('#submitform').on('submit', function(e){
        // 偵測是否同意出師表
        if(!$('#tos').attr('checked')){
          alert('請詳閱出師表。');
          return false;
          // 下面不會被執行。
        }
        alert('即將送出表單...');
      });

</script>
<p></p>
</section>
<section>
<h2><code>.on()</code></h2>
<p></p>
<p><code>$物件.on(&apos;事件&apos;, [selector,] handler)</code></p>
<p></p>
<p>若觸發者為 <code>$物件</code> 子孫中符合 <code>selector</code> 者，則執行 handler。</p>
<p></p>
<script type="text/x-sample" class="demo-dom-jquery small maxheight" data-lang="javascript">
      // 此行執行時，<a class="del"></a> 還不存在！
      //
      $('#submitform').on('submit', function(e){
        // 偵測是否同意出師表
        if(!$('#tos').attr('checked')){
          alert('請詳閱出師表。');
          e.preventDefault();
        }
      }).on('click', '.del', function(){
        // 刪除推薦人：
        // 把包著 <a class="del"> 之 <p> 整個移除。

        // 這裡的 this 是 .del
        $(this).parents('p').remove();
      });

      // 增加推薦人
      $('.add-referral').on('click', function(){
        // 把下面內容塞進 DOM
        $('<p><input type="text" name="referral"><a class="del">刪除</a></p>').appendTo('#referrals');
      });

</script>
<p></p>
<p></p>
</section>
<section>
<h2>捷徑</h2>
<p></p>
<p><code>.on(&apos;click&apos;, handler)</code> → <code>.click(handler)</code></p>
<p><code>.on(&apos;submit&apos;, handler)</code> → <code>.submit(handler)</code></p>
<p></p>
<script type="text/x-sample" class="demo-dom-jquery small" data-lang="javascript">
      $('#submitform').submit(function(e){
        // 偵測是否同意出師表
        if(!$('#tos').attr('checked')){
          alert('請詳閱出師表。');
          e.preventDefault();
        }
      }).on('click', '.del', function(){ // 這行沒改。
        // 刪除推薦人：
        // 把包著 <a class="del"> 之 <p> 整個移除。
        $(this).parents('p').remove();
      });

      // 增加推薦人
      $('.add-referral').click(function(){
        // 把下面內容塞進 DOM
        $('<p><input type="text" name="referral"><a class="del">刪除</a></p>').appendTo('#referrals');
      });

</script>
<p></p>
<p>不加 <code>handler</code> 則可觸發相對應事件（執行該事件的 callback）；</p>
<p><code>.submit()</code> 還可以送出表單。</p>
<p></p>
</section>
<section>
<h2>常用的 events</h2>
<p></p>
<h3>表單相關</h3>
<ul>
<li><code>focus</code>, <code>blur</code>：得到 focus / 失去 focus 時</li>
<li><code>focusin</code>, <code>focusout</code>：自己或裡面的元素得到 / 失去 focus 時</li>
<li><code>change</code>：表單元素的值（<code>value</code>）改變時</li>
<li><code>submit</code>: 表單送出前</li>
</ul>
<p></p>
<h3>滑鼠相關</h3>
<ul>
<li><code>click</code>：被點擊（按下滑鼠＋在元素內放開滑鼠）時</li>
<li><code>mousedown</code>, <code>mouseup</code>, <code>mousemove</code>: 按下 / 放開 / 移動滑鼠時</li>
<li><code>mouseenter</code>，<code>mouseleave</code>：滑鼠進入 / 離開某元素</li>
</ul>
<p></p>
</section>
<section>
<h2>常用的 events (續）</h2>
<p></p>
<h3>鍵盤相關</h3>
<ul>
<li><code>keydown</code>, <code>keyup</code>：按下 / 放開鍵盤按鍵時</li>
</ul>
<p></p>
<h3>載入相關</h3>
<ul>
<li><code>ready</code>：DOM 載入完成時</li>
<li><code>error</code>：圖片載入錯誤時</li>
</ul>
<p><!--</p>
</section>
<section>
<h2>Exercise</h2>
<p><a href="sample/jquery-exercise.html">能新增項目的清單</a>。</p>
<p></p>
<h3>SPEC</h3>
<p></p>
<ul>
<li>按「新增項目」按鈕可以在 <code>&lt;ul&gt;</code> 的開頭新增一個 <code>&lt;li&gt;</code></li>
<li><code>&lt;li&gt;</code> 裡頭有 <code>&lt;input&gt;</code> 且進入打字狀態。</li>
<li>打完字後按 enter 鍵，可以結束編輯。</li>
<li>結束編輯時，將目前的所有項目存進 <code>localStorage</code>。順序要保留。</li>
<li>頁面剛被打開時，從 <code>localStorage</code> 裡撈之前存的資料。</li>
</ul>
<p>--></p>
</section>
</section>
<p></p>
<p></p>
<section class="chapter">
<h2>jQuery Ajax</h2>
<p><a href="http://jqueryui.com/demos/" target="_blank">jQuery UI</a></p>
<p></p>
</section>
<section>
<section>
<h2>XMLHttpRequest</h2>
<ul>
<li>DOM 提供之 API 之一</li>
<li>用 javascript 送 GET/POST 等到 server</li>
<li>不用重新整理頁面</li>
<li>處理 server 回傳之資料</li>
<li>可處理 JSON / XML / HTML / 純文字</li>
</ul>
<p></p>
<p><div class="fragment"></p>
<h3>ajax</h3>
<p></p>
<pre style="text-align:center"><code><!--
-->Asynchronous JavaScript and XML
<!--
--></code></pre>
<ul>
<li>用 XMLHttpRequest 和 server 溝通</li>
<li>曾使用當時最尖端的 XML 格式交換資料</li>
<li>用 Javascript 操作 DOM，執行動態效果</li>
<li>不等遠端回應，繼續執行（asynchronous）</li>
<li>用 callback 處理遠端回傳的資料</li>
</ul>
<p></div></p>
<p></p>
</section>
<section>
<h2>jQuery Ajax</h2>
<p></p>
<p>jQuery 包裝了 Ajax 相關功能</p>
<p></p>
<ul>
<li><code>$.get</code> 送 get request 給 server</li>
<li><code>$.post</code> 送 post request 給 server</li>
<li><code>$.ajax</code> 為 <code>$.get</code>、<code>$.post</code> 等 ajax 相關的核心 function</li>
</ul>
<p></p>
<p><a href="http://api.jquery.com/category/ajax/" target="_blank">jQuery Ajax 分類</a></p>
<p></p>
</section>
<section>
<h2><code>$.get</code> 範例</h2>
<p></p>
<pre><code><!--
-->$.get(URL, DATA, CALLBACK, TYPE)
<!--
--></code></pre>
<p></p>
<ul>
<li><code>DATA</code>: 要送到遠端的資料，object 或字串。</li>
<li><code>TYPE</code>: 如何解讀遠端的回應，可以是 <code>&apos;json&apos;</code>, <code>&apos;text&apos;</code>, <code>&apos;html&apos;</code> 等。</li>
</ul>
<p></p>
<script type="text/x-sample" class="jquery-dom small maxheight">
      <button>送出 GET request</button>
      &lt;script type="text/javascript"&gt;
        $('button').click(function(){
          $.get(
            'http://graph.facebook.com/109258422427289',
            {},
            function(data, status){
              console.log('data', data);
              console.log('status', status);
              $('<span></span>').text(data.name)
                                .appendTo('body');
            },
            'json'
          );
          console.log('這是 $.get 的後面。');
        });
      &lt;/script&gt;

</script>
<p></p>
</section>
<section>
<h2><code>$.getJSON</code></h2>
<p></p>
<pre><code><!--
-->$.getJSON(URL, DATA, CALLBACK)
<!--
--></code></pre>
<p></p>
<p><code>$.get(URL, DATA, CALLBACK, &apos;json&apos;)</code> 的簡寫。</p>
<p></p>
<script type="text/x-sample" class="jquery-dom small maxheight">
      <button>用 getJSON 送出 GET request</button>
      &lt;script type="text/javascript"&gt;
        $('button').click(function(){
          $.getJSON(
            'http://graph.facebook.com/109258422427289',
            {},
            function(data, status){
              console.log('data', data);
              console.log('status', status);
              $('<span></span>').text(data.name)
                                .appendTo('body');
            }
          );
        });
      &lt;/script&gt;

</script>
<p></p>
</section>
<section>
<h2>Google Geocoding API</h2>
<p></p>
<script type="text/x-sample" class="jquery-dom small maxheight">
      地址：
      <textarea>台北市羅斯福路四段一號</textarea>
      <button>用 getJSON 送出 GET request</button>
      &lt;script type="text/javascript"&gt;
        $('button').click(function(){
          $.getJSON(
            'http://maps.googleapis.com/maps/api/geocode/json',
            {
              address: $('textarea').val(),
              sensor: false
            },
            function(data, status){
              console.log('data', data);
              console.log('status', status);
            }
          );
        });
      &lt;/script&gt;

</script>
<p></p>
<p class="fragment">（′,_ゝ`)</p>
<p></p>
<p></p>
</section>
<section>
<h2>淡定。</h2>
<p></p>
<pre><code><!--
-->Origin http://localhost:3000 is not allowed by Access-Control-Allow-Origin.
<!--
--></code></pre>
<p></p>
<p><hr></p>
<p></p>
<p class="fragment">瀏覽器不會信任來自別的 Domain 的 ajax response。</p>
<p class="fragment">除非 response 裡有 <code>Access-Control-Allow-Origin</code> 這個 header。</p>
<p class="fragment">javascript 向當前頁面的 domain 送 ajax，則沒有這個問題。</p>
<p></p>
<p></p>
</section>
</section>
<p></p>
<p></p>
<section class="chapter">
<h2>jQuery UI</h2>
<p><a href="http://jqueryui.com/demos/" target="_blank">jQuery UI</a></p>
<p></p>
</section>
<section>
<section>
<h2>jQuery UI</h2>
<ul>
<li><a href="http://jqueryui.com/demos/sortable/" target="_blank">拖曳等等</a>的互動</li>
<li><a href="http://jqueryui.com/demos/dialog/" target="_blank">對話視窗</a>之類的 Widgets</li>
<li>更多<a href="http://jqueryui.com/demos/show/" target="_blank">特效</a></li>
</ul>
<p></p>
<h3>Why 介紹 it?</h3>
<p></p>
<ul>
<li>jQuery UI 元件有統一的 API</li>
<li>jQuery UI 是複雜程度適中的一種 jQuery plugin</li>
</ul>
<p></p>
<p class="fragment">而且作業會用到。</p>
<p></p>
</section>
<section id="jQueryUI-install">
<h2>安裝 jQuery UI</h2>
<ul>
<li>選擇 Theme，下載 jQuery UI</li>
<li>選擇要用的 plugin</li>
<li>引入需要的 css 和 javascripts</li>
</ul>
<p></p>
</section>
<section>
<h2>安裝 jQuery UI (I)</h2>
<p>選擇 Theme，下載 jQuery UI</p>
<p><img src="images/js/themeroller.png" alt="Theme roller" height="200"></p>
<p><img src="images/js/download.png" alt="下載" height="200"></p>
<p></p>
</section>
<section>
<h2>安裝 jQuery UI (II)</h2>
<p>載下來的檔案：</p>
<p><img src="images/js/jqueryui.png" alt="檔案們"></p>
<p></p>
<ul>
<li><code>css/THEME名/</code> 內有 jQuery UI 用的圖檔與 css 檔。</li>
<li><code>js/</code> 底下有 jQuery 與 jQuery UI 的 js 檔。</li>
<li>development bundle 有文件和各個元件的原始碼。</li>
<li>index.html 是此元件的 demo。</li>
</ul>
<p></p>
</section>
<section>
<h2>安裝 jQuery UI (III)</h2>
<p><img src="images/js/tocss.png" alt="放到 css 資料夾"></p>
<p>開 <code>css/THEME名</code>，把 css 檔和 image 目錄複製到你放 css 的地方。</p>
<p><img src="images/js/tojs.png" alt="放到 js 資料夾"></p>
<p>把 jQuery UI 的 js 檔複製到放 js 的地方。</p>
<p></p>
<ul>
<li>打開要安裝 jQuery UI 的網頁，用 <code>link</code> 標籤連結 css 檔。</li>
<li>同上，用 <code>script</code> 標籤連結 jQuery UI 的 js 檔。</li>
</ul>
<p></p>
</section>
<section>
<h2>UI css 與 image</h2>
<p><img src="images/js/changecss.png" alt="要修改的東西" height="400"></p>
<p>若分開放置把 image 目錄和 css 檔，請把 css 檔中所有 <code>url(...)</code> 的路徑，換成此 css 檔到圖檔的相對路徑。</p>
<p></p>
<p></p>
</section>
<section>
<h2>jQuery UI API 形式</h2>
<p>jQuery UI 各種元件的的操作方式都很類似。</p>
<p></p>
<p><div class="fragment"></p>
<hr>
<p></p>
<p>以 jquery UI <code>dialog</code> 為例</p>
<p></p>
<ul>
<li><code>$(元素).dialog({autoOpen: false, resizable: false})</code>：初始化 <code>dialog</code>。</li>
<li><code>$(元素).dialog(&apos;open&apos;)</code>：呼叫 dialog 的 method。</li>
<li><code>$(元素).on(&apos;dialogopen&apos;, handler)</code>：指定 event handler。</li>
</ul>
<p></p>
<p>詳細的初始化 <code>option</code>、<code>event</code>、<code>method</code>，都在文件下方。</p>
<p></p>
<p></div></p>
<p><!--</p>
</section>
<section>
<h2>Demo</h2>
<p>用 jQuery UI sortable，把<a href="sample/jquery-exercise.html">能新增項目的清單</a>改成能拖曳的。</p>
<p></p>
<h3>SPEC</h3>
<p></p>
<ul>
<li>要能上下拖曳清單項目</li>
<li>拖曳結束時，將目前順序存進 <code>localStorage</code></li>
<li>新增刪除按鈕，按下去會有 jQuery UI dialog 確認是否繼續</li>
<li>別忘了刪除後也要更新 <code>localStorage</code></li>
</ul>
<p></p>
<p><hr></p>
<p><a href="sample/jqueryui-exercise.html">修改後</a></p>
<p>--></p>
</section>
</section>
<p></p>
<section class="chapter">
<h2>Debugging</h2>
<p></p>
</section>
<section>
<section>
<h2>console.log</h2>
<ul>
<li>物件可能會被更動</li>
</ul>
<p></p>
<script type="text/x-sample">
      var arr = ['棋盤', '稿紙', '綠豆糕'];
      console.log('arr: ', arr);
      arr.shift(); // 移除第 0 個
      console.log('shift 之後：arr: ', arr);

</script>
<p></p>
</section>
<section>
<h2>中斷點</h2>
<ul>
<li>開發人員工具的「Scripts」 面板</li>
<li>選擇要 debug 的檔案</li>
<li>中斷時可用 console</li>
<li>"Pause on uncaught exception" 按鈕</li>
</ul>
<p><img src="images/js/pausebutton.png" alt="pause"></p>
<p></p>
</section>
</section>
<p></p>
<section>
<h1>THE END</h1>
<p></p>
<ul class="nav">
<li><a href="html.html">HTML</a></li>
<li><a href="css.html">CSS</a></li>
<li><a href="js.html">Javascript</a></li>
<li><a href="advancedjs.html">Advanced JS</a></li>
</section>
</ul>
      </div>

      <!-- The navigational controls UI -->
      <aside class="controls">
        <a class="left" href="#">&#x25C4;</a>
        <a class="right" href="#">&#x25BA;</a>
        <a class="up" href="#">&#x25B2;</a>
        <a class="down" href="#">&#x25BC;</a>
      </aside>

      <!-- Displays presentation progress, max value changes via JS to reflect # of slides -->
      <div class="progress"><span></span></div>

    </div>
    <script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/jquery-ui.min.js"></script>
<script type="text/javascript" src="js/reveal.js"></script>
<script type="text/javascript" src="lib/highlight.js"></script>
<script type="text/javascript" src="js/sample.js"></script>
<script type="text/javascript" src="js/init-js.js"></script>
<script type="text/javascript" src="js/index.js"></script>
<script type="text/javascript" src="js/ruler.js"></script>
  </body>

</html>
